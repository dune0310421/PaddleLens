[
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 40,
        "title": "READMEä¸­å…³äºæå–è¯­ä¹‰å‘é‡éƒ¨åˆ†ï¼Œç¤ºä¾‹ä»£ç æœ‰è¯¯",
        "body": "#### è¿è¡Œç¯å¢ƒ\r\n```text\r\nerniebot 0.3.1\r\npython 3.10\r\n```\r\n\r\n#### è¿è¡Œä»£ç \r\n```python\r\nimport erniebot\r\n\r\nerniebot.api_type = 'aistudio'\r\nerniebot.access_token = '<access-token-for-aistudio>'\r\n\r\nresponse = erniebot.Embedding.create(\r\n    model='ernie-text-embedding',\r\n    input=[\r\n        \"æˆ‘æ˜¯ç™¾åº¦å…¬å¸å¼€å‘çš„äººå·¥æ™ºèƒ½è¯­è¨€æ¨¡å‹ï¼Œæˆ‘çš„ä¸­æ–‡åæ˜¯æ–‡å¿ƒä¸€è¨€ï¼Œè‹±æ–‡åæ˜¯ERNIE-Botï¼Œå¯ä»¥ååŠ©æ‚¨å®ŒæˆèŒƒå›´å¹¿æ³›çš„ä»»åŠ¡å¹¶æä¾›æœ‰å…³å„ç§ä¸»é¢˜çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å›ç­”é—®é¢˜ï¼Œæä¾›å®šä¹‰å’Œè§£é‡ŠåŠå»ºè®®ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å‘æˆ‘æé—®ã€‚\",\r\n        \"2018å¹´æ·±åœ³å¸‚å„åŒºGDP\"\r\n        ])\r\n\r\nprint(response.get_result())\r\n```\r\n\r\n#### æŠ¥é”™ä¿¡æ¯\r\n```bash\r\n(py310) âœ  âœ— python test_erniebot.py\r\nTraceback (most recent call last):\r\n  File \"/Users/xxxx/opt/miniconda3/envs/py310/lib/python3.10/site-packages/erniebot/response.py\", line 120, in __getattr__\r\n    val = self.__dict[key]\r\nKeyError: 'get_result'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/xxxx/projects/Knowledge-QA-LLM/test_erniebot.py\", line 36, in <module>\r\n    print(response.get_result())\r\n  File \"/Users/xxxx/opt/miniconda3/envs/py310/lib/python3.10/site-packages/erniebot/response.py\", line 123, in __getattr__\r\n    raise AttributeError\r\nAttributeError\r\n```",
        "state": "closed",
        "user": "SWHL",
        "closed_by": "SWHL",
        "created_at": "2023-10-14T10:02:21+00:00",
        "updated_at": "2023-10-17T01:04:28+00:00",
        "closed_at": "2023-10-17T01:04:27+00:00",
        "comments_count": [
            "Bobholamovic",
            "SWHL"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 20,
        "title": "åˆ å‡äº†Gradioç¤ºä¾‹çš„éƒ¨åˆ†ä»£ç ï¼Œåœ¨ç™¾åº¦é£æ¡¨AI StudioæˆåŠŸéƒ¨ç½²ï¼Œå’Œæˆ‘ä¸€æ ·çš„å°ç™½å¯ä»¥å°è¯•çº¿ä¸Šè¿è¡Œä½“éªŒ",
        "body": "æˆ‘å‘ç°äº†ä¸€ç¯‡é«˜è´¨é‡çš„å®è®­é¡¹ç›®ï¼Œä½¿ç”¨å…è´¹ç®—åŠ›å³å¯ä¸€é”®è¿è¡Œï¼Œè¿˜èƒ½é¢å¤–è·å–8å°æ—¶å…è´¹GPUè¿è¡Œæ—¶é•¿ï¼Œå¿«æ¥Forkä¸€ä¸‹ä½“éªŒå§ã€‚\r\næ–‡å¿ƒSDK-Gradioç¤ºä¾‹ï¼šhttps://aistudio.baidu.com/projectdetail/6728883?sUid=4316224&shared=1&ts=1694703589320",
        "state": "open",
        "user": "madagastar",
        "closed_by": null,
        "created_at": "2023-09-14T15:00:37+00:00",
        "updated_at": "2024-02-28T06:13:20+00:00",
        "closed_at": null,
        "comments_count": [
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 62,
        "title": "æˆ‘æƒ³çŸ¥é“æ€ä¹ˆå¾®è°ƒå®ƒã€‚",
        "body": "å¦‚é¢˜ï¼Œæˆ‘çœŸçš„å¾ˆæƒ³çŸ¥é“ï¼Œå¯ä»¥Loraå¾®è°ƒå—ï¼Œæ•°æ®é›†æ ¼å¼æ˜¯ä»€ä¹ˆæ ·ã€‚\r\næˆ‘æ‰“ç®—åœ¨å¯¹è¯ä¸­è°ƒç”¨æ–‡ç”Ÿå›¾åŠŸèƒ½ï¼Œè¿™ä¸ªå¯ä»¥è®­ç»ƒå§ã€‚",
        "state": "closed",
        "user": "CQxiaocaimi",
        "closed_by": "sijunhe",
        "created_at": "2023-11-07T14:29:25+00:00",
        "updated_at": "2024-03-01T10:20:38+00:00",
        "closed_at": "2024-03-01T10:20:38+00:00",
        "comments_count": [
            "Bobholamovic",
            "CQxiaocaimi",
            "Bobholamovic",
            "CQxiaocaimi",
            "Bobholamovic",
            "CQxiaocaimi",
            "oukohou",
            "Bobholamovic",
            "itagan",
            "itagan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 14,
        "title": "æµå¼æ”¯æŒ",
        "body": "https://github.com/yuanjie-ai/ChatLLM/blob/master/LLMS.md#%E7%99%BE%E5%BA%A6%E6%96%87%E5%BF%83",
        "state": "closed",
        "user": "yuanjie-ai",
        "closed_by": "juncaipeng",
        "created_at": "2023-09-07T03:03:21+00:00",
        "updated_at": "2023-09-07T12:27:09+00:00",
        "closed_at": "2023-09-07T12:27:09+00:00",
        "comments_count": [
            "Bobholamovic",
            "yuanjie-ai",
            "Bobholamovic",
            "yuanjie-ai",
            "Bobholamovic"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 48,
        "title": "åœ¨linuxä¸‹æ— æ³•å®‰è£…SDKåº“çš„ä¾èµ–",
        "body": "![2KZDA1AOS{C1V0Q3R0KSQ_8](https://github.com/PaddlePaddle/ERNIE-Bot-SDK/assets/99968055/0b3f7610-9885-45b7-9344-07703d8672c8)\r\nç³»ç»Ÿç¯å¢ƒå¦‚å›¾æ‰€ç¤º\r\nä½¿ç”¨pipå®‰è£…æ—¶æ²¡æœ‰å¯¹åº”çš„åŒ…",
        "state": "closed",
        "user": "fangfangssj",
        "closed_by": "fangfangssj",
        "created_at": "2023-10-28T08:32:28+00:00",
        "updated_at": "2024-12-18T07:54:53+00:00",
        "closed_at": "2024-12-18T07:54:53+00:00",
        "comments_count": [
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 38,
        "title": "è°ƒç”¨æ–‡æœ¬è½¬å›¾åƒçš„demoå‡ºé”™",
        "body": "è¯·æ•™ä¸‹ï¼Œè¿™ä¸ªæŠ¥é”™æ˜¯å•¥åŸå› ï¼Ÿerniebotæœ€æ–°ç‰ˆæœ¬ä»¥åŠæ—©ç‚¹çš„ç‰ˆæœ¬éƒ½è¯•è¿‡ï¼Œä¸€æ ·çš„æŠ¥é”™\r\npython ç‰ˆæœ¬ï¼š3.9.7ï¼Œwindowsä¸‹ã€‚\r\nç¤ºä¾‹ç¨‹åºï¼š\r\n`import erniebot\r\n\r\nerniebot.api_type = \"yinian\"\r\nerniebot.access_token = \"***************\"\r\n\r\nresponse = erniebot.Image.create(model=\"ernie-vilg-v2\", prompt=\"è¯·å¸®æˆ‘ç”»ä¸€åªå¯çˆ±çš„å¤§çŒ«å’ª\", width=512, height=512, version=\"v2\", image_num=1)\r\n\r\nprint(response)\r\n\r\nimg_url = response[\"data\"][\"sub_task_result_list\"][0][\"final_image_list\"][0][\"img_url\"]\r\nprint(img_url)\r\nprint(response)`\r\n\r\nè¿è¡Œæ—¶æŠ¥é”™ï¼š\r\nException has occurred: HTTPRequestError\r\nUnexpected content type: 'text/html; charset=utf-8' \r\nResponse:\r\n  code: 200\r\n  body: '<!DOCTYPE html><html style=\"font-size:initial\"><head><meta charSet=\"utf-8\"/><meta name=\"baidu-site-verification\" content=\"code-G5HmRz7LQc\"/><meta name=\"description\" content=\"ç™¾åº¦å¼€å‘è€…ä¸­å¿ƒæ˜¯ä¸€ä¸ªé¢å‘å¼€å‘è€…çš„çŸ¥è¯†åˆ†äº«å¹³å°ï¼Œä¸“æ³¨äºä¸ºå¼€å‘è€…æ‰“é€ ä¸€ä¸ªæœ‰æ¸©åº¦çš„æŠ€æœ¯äº¤æµç¤¾åŒºï¼Œå¼€å‘è€…é€šè¿‡å¹³å°æ¥åˆ†äº«çŸ¥è¯†ã€ç›¸äº’äº¤æµã€‚\"/><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/><link rel=\"shortcut icon\" href=\"https://developer-resource.bj.bcebos.com/images/developerLogo.ico\"/><title>çƒ­é—¨é—®é¢˜-æŠ€æœ¯é—®ç­”-ç™¾åº¦å¼€å‘è€…ä¸­å¿ƒ-æ±‡èšå¼€æ”¾ã€åŠ©åŠ›ã€å…±èµ¢</title><meta name=\"keywords\" content=\"DurOS,è¶…çº§é“¾,APIå•†åŸ,ç™¾åº¦ç½‘ç›˜å¼€æ”¾å¹³å°,ç™¾åº¦åœ°å›¾å¼€æ”¾å¹³å°,ç™¾åº¦å¼€å‘è€…ä¸­å¿ƒ,è®ºå›,ç¤¾åŒº\"/><meta name=\"next-head-count\" content=\"7\"/><link rel=\"preload\" href=\"https://bce.bdstatic.com/developer-server/online/_next/static/css/7ea58671f4422d96f12a.css\" ...",
        "state": "closed",
        "user": "kuaizilh",
        "closed_by": "Bobholamovic",
        "created_at": "2023-10-09T02:14:29+00:00",
        "updated_at": "2023-10-11T13:46:57+00:00",
        "closed_at": "2023-10-11T13:46:56+00:00",
        "comments_count": [
            "Bobholamovic",
            "kuaizilh",
            "Bobholamovic",
            "Bobholamovic",
            "kuaizilh",
            "Bobholamovic",
            "kuaizilh",
            "Bobholamovic",
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 11,
        "title": "æŒ‰æ•™ç¨‹å†™ä»£ç ã€‚æŠ¥é”™",
        "body": "    chat_completion = erniebot.ChatCompletion.create(model=\"ernie-bot-3.5\", messages=[{\"role\": \"user\", \"content\": \"ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸‹ä½ è‡ªå·±\"}])\r\n\r\nprint(chat_completion.result)\r\n\r\n\r\n\r\n 19 # Create a chat completion\r\n---> 20 chat_completion = erniebot.ChatCompletion.create(model=\"ernie-bot-3.5\", messages=[{\"role\": \"user\", \"content\": \"ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸‹ä½ è‡ªå·±\"}])\r\n     22 print(chat_completion.result)\r\n\r\nFile /opt/conda/lib/python3.9/site-packages/erniebot/resources/abc/creatable.py:39, in Creatable.create(cls, **create_kwargs)\r\n     28 @classmethod\r\n     29 def create(cls,\r\n     30            **create_kwargs: Any) -> Union[EBResponse, Iterator[EBResponse]]:\r\n     31     \"\"\"Create a new resource.\r\n     32 \r\n     33     Args:\r\n   (...)\r\n     37         Response from the server.\r\n     38     \"\"\"\r\n---> 39     resource = cls.new_object()\r\n     40     return resource.create_resource(**create_kwargs)\r\n\r\nFile /opt/conda/lib/python3.9/site-packages/erniebot/resources/resource.py:68, in EBResource.new_object(cls, **kwargs)\r\n     66 @classmethod\r\n     67 def new_object(cls, **kwargs: Any) -> Self:\r\n---> 68     return cls(**kwargs)\r\n\r\nFile /opt/conda/lib/python3.9/site-packages/erniebot/resources/resource.py:55, in EBResource.__init__(self, **kwargs)\r\n     54 def __init__(self, **kwargs: Any) -> None:\r\n---> 55     super().__init__()\r\n     57     self._cfg = self._create_config_dict(**kwargs)\r\n     59     self.api_type = self._cfg['api_type']\r\n\r\nFile /opt/conda/lib/python3.9/typing.py:1083, in _no_init(self, *args, **kwargs)\r\n   1082 def _no_init(self, *args, **kwargs):\r\n-> 1083     raise TypeError('Protocols cannot be instantiated')\r\n\r\nTypeError: Protocols cannot be instantiated",
        "state": "open",
        "user": "D-Cyans",
        "closed_by": null,
        "created_at": "2023-09-04T06:55:26+00:00",
        "updated_at": "2023-09-07T08:53:32+00:00",
        "closed_at": null,
        "comments_count": [
            "Bobholamovic",
            "D-Cyans",
            "Bobholamovic",
            "D-Cyans",
            "Bobholamovic"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 25,
        "title": "å›¾åºŠ",
        "body": null,
        "state": "closed",
        "user": "Bobholamovic",
        "closed_by": "Bobholamovic",
        "created_at": "2023-09-18T08:31:33+00:00",
        "updated_at": "2023-09-18T11:22:55+00:00",
        "closed_at": "2023-09-18T08:31:36+00:00",
        "comments_count": [
            "Bobholamovic",
            "Bobholamovic",
            "Bobholamovic",
            "Bobholamovic",
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 44,
        "title": "æœ‰è€ƒè™‘å‡º js-sdk ä¹ˆ",
        "body": "å¦‚é¢˜ã€‚",
        "state": "open",
        "user": "zhengxs2018",
        "closed_by": null,
        "created_at": "2023-10-23T11:55:56+00:00",
        "updated_at": "2023-10-24T04:31:56+00:00",
        "closed_at": null,
        "comments_count": [
            "ZeyuChen",
            "zhengxs2018"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 80,
        "title": "æƒ³å’¨è¯¢ä¸‹è¾“å…¥æœ€å¤§é•¿åº¦åªæœ‰4800å—ï¼Ÿ",
        "body": "<img width=\"1261\" alt=\"image\" src=\"https://github.com/PaddlePaddle/ERNIE-Bot-SDK/assets/52858395/f5c08b39-5a62-402f-b6d4-d729e556661e\">\r\n",
        "state": "closed",
        "user": "longranger2",
        "closed_by": "longranger2",
        "created_at": "2023-11-19T04:05:24+00:00",
        "updated_at": "2023-11-20T15:47:20+00:00",
        "closed_at": "2023-11-20T15:47:20+00:00",
        "comments_count": [
            "Bobholamovic",
            "qqeip",
            "qqeip",
            "longranger2"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 87,
        "title": "å¯ä»¥åœ¨XAgentä¸­è°ƒç”¨ernie-bot-4å—ï¼Ÿ",
        "body": "å¦‚é¢˜ï¼Œæˆ‘çŸ¥é“æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯é‡åˆ°ä¸€äº›é—®é¢˜ï¼ŒæŠ¥é”™ï¼šKeyError: 'Could not automatically map ernie-bot-4 to a tokeniser. Please useÂ tiktoken.get_encodingÂ to explicitly get the tokeniser you expect.\r\néœ€è¦æä¾›æ¨¡å‹çš„åˆ†è¯å™¨ç»™XAgentä»¥æ”¯æŒContextç®¡ç†åŠŸèƒ½ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“è¯¥æ€ä¹ˆåšï¼Œä¸å¤ªæ‡‚ä»£ç ã€‚\r\nXAgentä¸­çš„utils.pyä»£ç éƒ¨åˆ†æœ‰ï¼š\r\nfrom enum import Enum, unique\r\nimport abc\r\nfrom colorama import Fore, Style\r\nimport json\r\nimport requests\r\nfrom dataclasses import dataclass, field\r\nfrom typing import List, Dict\r\nimport tiktoken\r\nfrom XAgent.config import CONFIG\r\n\r\nencoding = tiktoken.encoding_for_model(CONFIG.default_completion_kwargs['model'])\r\n\r\ndef get_token_nums(text:str)->int:\r\n    return len(encoding.encode(text))\r\n\r\ndef clip_text(text:str,max_tokens:int=None,clip_end=False)->str|int:\r\n    encoded = encoding.encode(text)\r\n    decoded = encoding.decode(encoded[:max_tokens] if clip_end else encoded[-max_tokens:])\r\n    if len(decoded) != len(text):\r\n        decoded = decoded + '`wrapped`' if clip_end else '`wrapped`' + decoded\r\n    return decoded, len(encoded)\r\n\r\n@unique\r\nclass LLMStatusCode(Enum):\r\n    SUCCESS = 0\r\n    ERROR = 1\r\n\r\n@unique\r\nclass ToolCallStatusCode(Enum):\r\n    TOOL_CALL_FAILED = -1\r\n    TOOL_CALL_SUCCESS = 0\r\n    FORMAT_ERROR = 1\r\n    HALLUCINATE_NAME = 2 \r\n    OTHER_ERROR = 3 \r\n    TIMEOUT_ERROR = 4\r\n    TIME_LIMIT_EXCEEDED = 5\r\n    SERVER_ERROR = 6\r\næ˜¯éœ€è¦å…‹éš†ernie-bot-sdkï¼Ÿè¿˜æ˜¯éœ€è¦ä¸‹è½½paddlepaddleï¼Œè¿˜æ˜¯paddleNLPã€‚æˆ‘ä»¥ä¸ºä»…ä»…éœ€è¦APIå°±å¯ä»¥çš„ã€‚ã€‚ã€‚ã€‚",
        "state": "closed",
        "user": "CQxiaocaimi",
        "closed_by": "sijunhe",
        "created_at": "2023-11-23T06:59:19+00:00",
        "updated_at": "2024-03-01T10:21:20+00:00",
        "closed_at": "2024-03-01T10:21:20+00:00",
        "comments_count": [
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 97,
        "title": "ERNIEæ¨¡å‹å¯¹messageçš„è½®æ¬¡ï¼Œroleçš„é™åˆ¶",
        "body": "å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé”™è¯¯ç¤ºä¾‹åŠ[é”™è¯¯ä»£ç ](https://cloud.baidu.com/doc/WENXINWORKSHOP/s/tlmyncueh)ã€‚ERNIEæ¨¡å‹å¯¹messageçš„è½®æ¬¡ï¼Œroleæœ‰ä¸€å®šçš„é™åˆ¶ï¼Œä½†è¿™äº›é™åˆ¶ä¼šå¯¼è‡´æ¨¡å‹æ— æ³•åœ¨å¤æ‚åœºæ™¯ä¸‹åº”ç”¨ã€‚\r\n\r\n![image](https://github.com/PaddlePaddle/ERNIE-Bot-SDK/assets/3197038/df9b9bf8-ebd7-4e9f-9412-eead7dec0809)\r\n\r\n![image](https://github.com/PaddlePaddle/ERNIE-Bot-SDK/assets/3197038/48b935be-1176-420c-8739-d44e3c6b13fc)\r\n\r\nè¿™ä¸ªé™åˆ¶åœ¨openAIé‡Œæ˜¯æ²¡æœ‰çš„ï¼š\r\n![image](https://github.com/PaddlePaddle/ERNIE-Bot-SDK/assets/3197038/d2e82790-7268-401b-ac71-86945883db09)\r\n\r\n\r\n",
        "state": "open",
        "user": "thinkall",
        "closed_by": null,
        "created_at": "2023-11-28T03:42:52+00:00",
        "updated_at": "2023-12-04T03:03:30+00:00",
        "closed_at": null,
        "comments_count": [
            "Bobholamovic",
            "thinkall",
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 96,
        "title": "erniebot config cause pytest KeyError: '__wrapped__'",
        "body": "è¿è¡Œ pytest doctest æ—¶ï¼Œerniebot config æ¨¡å—ä¼šå¯¼è‡´ä¸‹é¢çš„æŠ¥é”™ã€‚\r\n\r\n```python\r\n../../.pyenv/versions/3.9.11/lib/python3.9/doctest.py:939: in find\r\n    self._find(tests, obj, name, module, source_lines, globs, {})\r\n../../.pyenv/versions/3.9.11/envs/easyai/lib/python3.9/site-packages/_pytest/doctest.py:536: in _find\r\n    super()._find(  # type:ignore[misc]\r\n../../.pyenv/versions/3.9.11/lib/python3.9/doctest.py:998: in _find\r\n    if ((inspect.isroutine(inspect.unwrap(val))\r\n../../.pyenv/versions/3.9.11/envs/easyai/lib/python3.9/site-packages/_pytest/doctest.py:478: in _mock_aware_unwrap\r\n    return real_unwrap(func, stop=_is_mocked)\r\n../../.pyenv/versions/3.9.11/lib/python3.9/inspect.py:521: in unwrap\r\n    while _is_wrapper(func):\r\n../../.pyenv/versions/3.9.11/lib/python3.9/inspect.py:515: in _is_wrapper\r\n    return hasattr(f, '__wrapped__') and not stop(f)\r\n../../.pyenv/versions/3.9.11/envs/easyai/lib/python3.9/site-packages/erniebot/__init__.py:45: in __getattr__\r\n    return GlobalConfig().get_value(name)\r\n../../.pyenv/versions/3.9.11/envs/easyai/lib/python3.9/site-packages/erniebot/config.py:42: in get_value\r\n    cfg = self._cfg_dict[key]\r\nE   KeyError: '__wrapped__'\r\n============================================================== warnings summary ===============================================================\r\n../../.pyenv/versions/3.9.11/envs/easyai/lib/python3.9/site-packages/_pytest/doctest.py:482\r\n  /Users/kk/.pyenv/versions/3.9.11/envs/easyai/lib/python3.9/site-packages/_pytest/doctest.py:482: PytestWarning: Got KeyError('__wrapped__') when unwrapping <module 'erniebot' from '/Users/kk/.pyenv/versions/3.9.11/envs/easyai/lib/python3.9/site-packages/erniebot/__init__.py'>.  This is usually caused by a violation of Python's object protocol; see e.g. https://github.com/pytest-dev/pytest/issues/5080\r\n    warnings.warn(\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\r\n\r\n```\r\n\r\nconfig.py æ¨¡å— `__getattr__` å‡½æ•°éœ€è¦å°† `KeyError` è½¬æˆ `AttributeError` å†æŠ›å‡ºï¼Œæ‰èƒ½æ­£ç¡®å¤„ç†keyä¸å­˜åœ¨çš„æƒ…å†µã€‚ä¿®å¤å¦‚ä¸‹ï¼š\r\n\r\n```python\r\ndef __getattr__(name):\r\n    try:\r\n        return GlobalConfig().get_value(name)\r\n    except KeyError as ex:\r\n        raise AttributeError(name) from ex\r\n```",
        "state": "closed",
        "user": "guyskk",
        "closed_by": "guyskk",
        "created_at": "2023-11-27T15:32:48+00:00",
        "updated_at": "2023-12-14T13:38:00+00:00",
        "closed_at": "2023-12-14T13:38:00+00:00",
        "comments_count": [
            "sijunhe",
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 107,
        "title": "APIError: è®¿é—®è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨å€™å†è¯•",
        "body": "è°ƒç”¨ ErnieEmbeddingsï¼Œæç¤º **â€œAPIError: è®¿é—®è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨å€™å†è¯•â€** ï¼Œä¸ä¼šè§£å†³ï¼ï¼ï¼\r\n\r\n\r\n```bash\r\n---------------------------------------------------------------------------\r\nAPIError                                  Traceback (most recent call last)\r\nCell In[11], line 12\r\n      9 docs = text_splitter.split_documents(documents)\r\n     10 # print(len(docs))\r\n     11 # print(docs[0])\r\n---> 12 db = FAISS.from_documents(docs, embeddings)\r\n     13 db.save_local(faiss_name)\r\n\r\nFile /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages/langchain_core/vectorstores.py:510, in VectorStore.from_documents(cls, documents, embedding, **kwargs)\r\n    508 texts = [d.page_content for d in documents]\r\n    509 metadatas = [d.metadata for d in documents]\r\n--> 510 return cls.from_texts(texts, embedding, metadatas=metadatas, **kwargs)\r\n\r\nFile /opt/conda/envs/python35-paddle120-env/lib/python3.10/site-packages/langchain/vectorstores/faiss.py:911, in FAISS.from_texts(cls, texts, embedding, metadatas, ids, **kwargs)\r\n    884 @classmethod\r\n    885 def from_texts(\r\n    886     cls,\r\n   (...)\r\n    891     **kwargs: Any,\r\n    892 ) -> FAISS:\r\n    893     \"\"\"Construct FAISS wrapper from raw documents.\r\n    894 \r\n    895     This is a user friendly interface that:\r\n   (...)\r\n    909             faiss = FAISS.from_texts(texts, embeddings)\r\n    910     \"\"\"\r\n--> 911     embeddings = embedding.embed_documents(texts)\r\n    912     return cls.__from(\r\n    913         texts,\r\n    914         embeddings,\r\n   (...)\r\n    918         **kwargs,\r\n    919     )\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot-agent/erniebot_agent/extensions/langchain/embeddings/ernie.py:68, in ErnieEmbeddings.embed_documents(self, texts)\r\n     66 lst = []\r\n     67 for chunk in text_in_chunks:\r\n---> 68     resp = self.client.create(_config_=self._get_auth_config(), input=chunk, model=self.model)\r\n     69     lst.extend([res[\"embedding\"] for res in resp[\"data\"]])\r\n     70 return lst\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/resources/abc/creatable.py:33, in Creatable.create(cls, **kwargs)\r\n     31 resource = cls.new_object(**config)\r\n     32 create_kwargs = kwargs\r\n---> 33 return resource.create_resource(**create_kwargs)\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/resources/abc/creatable.py:46, in Creatable.create_resource(self, **create_kwargs)\r\n     44 def create_resource(self, **create_kwargs: Any) -> Union[EBResponse, Iterator[EBResponse]]:\r\n     45     path, params, headers, files, stream, request_timeout = self._prepare_create(create_kwargs)\r\n---> 46     resp = self.request(\r\n     47         method=\"POST\",\r\n     48         path=path,\r\n     49         stream=stream,\r\n     50         params=params,\r\n     51         headers=headers,\r\n     52         files=files,\r\n     53         request_timeout=request_timeout,\r\n     54     )\r\n     55     # See https://github.com/python/mypy/issues/1533\r\n     56     resp = self._postprocess_create(resp)  # type: ignore\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/resources/resource.py:142, in EBResource.request(self, method, path, stream, params, headers, files, request_timeout)\r\n    129 @final\r\n    130 def request(\r\n    131     self,\r\n   (...)\r\n    139     request_timeout: Optional[float] = None,\r\n    140 ) -> Union[EBResponse, Iterator[EBResponse]]:\r\n    141     if self.timeout is None:\r\n--> 142         return self._request(\r\n    143             method=method,\r\n    144             path=path,\r\n    145             stream=stream,\r\n    146             params=params,\r\n    147             headers=headers,\r\n    148             files=files,\r\n    149             request_timeout=request_timeout,\r\n    150         )\r\n    151     else:\r\n    152         st_time = time.time()\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/resources/resource.py:363, in EBResource._request(self, method, path, stream, params, headers, files, request_timeout)\r\n    352 @final\r\n    353 def _request(\r\n    354     self,\r\n   (...)\r\n    361     request_timeout: Optional[float],\r\n    362 ) -> Union[EBResponse, Iterator[EBResponse]]:\r\n--> 363     resp = self._backend.request(\r\n    364         method,\r\n    365         path,\r\n    366         stream,\r\n    367         params=params,\r\n    368         headers=headers,\r\n    369         files=files,\r\n    370         request_timeout=request_timeout,\r\n    371     )\r\n    372     if stream:\r\n    373         if not isinstance(resp, Iterator):\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/backends/aistudio.py:82, in AIStudioBackend.request(self, method, path, stream, params, headers, files, request_timeout)\r\n     74 url, headers, data = self._client.prepare_request(\r\n     75     method,\r\n     76     url,\r\n   (...)\r\n     79     files=files,\r\n     80 )\r\n     81 headers = self._add_aistudio_fields_to_headers(headers)\r\n---> 82 return self._client.send_request(\r\n     83     method,\r\n     84     url,\r\n     85     stream,\r\n     86     data=data,\r\n     87     headers=headers,\r\n     88     files=files,\r\n     89     request_timeout=request_timeout,\r\n     90     base_url=self.base_url,\r\n     91 )\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/http_client.py:145, in EBClient.send_request(self, method, url, stream, data, headers, files, request_timeout, base_url)\r\n    124 def send_request(\r\n    125     self,\r\n    126     method: str,\r\n   (...)\r\n    133     base_url: Optional[str] = None,\r\n    134 ) -> Union[EBResponse, Iterator[EBResponse]]:\r\n    135     result = self.send_request_raw(\r\n    136         method.lower(),\r\n    137         url,\r\n   (...)\r\n    143         request_timeout=request_timeout,\r\n    144     )\r\n--> 145     resp, got_stream = self._interpret_response(result, stream)\r\n    146     if stream != got_stream:\r\n    147         logger.warning(\"Unexpected response: %s\", resp)\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/http_client.py:339, in EBClient._interpret_response(self, result, stream)\r\n    333     return (\r\n    334         self._interpret_stream_response(result.iter_lines(), result.status_code, result.headers),\r\n    335         True,\r\n    336     )\r\n    337 else:\r\n    338     return (\r\n--> 339         self._interpret_response_line(\r\n    340             result.content.decode(\"utf-8\"),\r\n    341             result.status_code,\r\n    342             result.headers,\r\n    343             stream=False,\r\n    344         ),\r\n    345         False,\r\n    346     )\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/http_client.py:442, in EBClient._interpret_response_line(self, rbody, rcode, rheaders, stream)\r\n    434     raise errors.HTTPRequestError(\r\n    435         f\"Status code is not {http.HTTPStatus.OK}.\",\r\n    436         rcode=resp.rcode,\r\n    437         rbody=str(resp.rbody),\r\n    438         rheaders=resp.rheaders,\r\n    439     )\r\n    441 if self._resp_handler is not None:\r\n--> 442     resp = self._resp_handler(resp)\r\n    443 return resp\r\n\r\nFile ~/ERNIE-Bot-SDK/erniebot/backends/aistudio.py:59, in AIStudioBackend.handle_response(self, resp)\r\n     57         raise errors.TryAgain(emsg, ecode=ecode)\r\n     58     else:\r\n---> 59         raise errors.APIError(emsg, ecode=ecode)\r\n     60 else:\r\n     61     return EBResponse(resp.rcode, resp.result, resp.rheaders)\r\n\r\n```\r\n",
        "state": "closed",
        "user": "livingbody",
        "closed_by": "sijunhe",
        "created_at": "2023-11-29T16:29:49+00:00",
        "updated_at": "2023-12-28T06:05:26+00:00",
        "closed_at": "2023-12-28T06:05:26+00:00",
        "comments_count": [
            "livingbody",
            "Bobholamovic",
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 119,
        "title": "èƒ½æœ‰è¯­éŸ³è¾“å‡ºä¸",
        "body": "èƒ½æœ‰è¯­éŸ³è¾“å‡ºä¸ï¼Œä¸è¦æ–‡å­—,\r\nTTSæµè¯­éŸ³è¾“å‡º",
        "state": "open",
        "user": "monkeycc",
        "closed_by": null,
        "created_at": "2023-12-02T07:54:40+00:00",
        "updated_at": "2024-02-28T06:13:11+00:00",
        "closed_at": null,
        "comments_count": [
            "shiyutang",
            "monkeycc",
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 102,
        "title": "æš‚æ— æƒé™ä½¿ç”¨ï¼Œè¯·åœ¨ AI Studio æ­£ç¡®è·å–è®¿é—®ä»¤ç‰Œ(access tok",
        "body": "æš‚æ— æƒé™ä½¿ç”¨ï¼Œè¯·åœ¨ AI Studio æ­£ç¡®è·å–è®¿é—®ä»¤ç‰Œ(access tokï¼ŒæŸ¥äº†è¿˜æœ‰tokens\r\n![image](https://github.com/PaddlePaddle/ERNIE-Bot-SDK/assets/5858920/133f85a7-5cf4-4095-bbec-8cd0bf0ba464)\r\n",
        "state": "closed",
        "user": "myboyliu",
        "closed_by": "sijunhe",
        "created_at": "2023-11-29T04:29:04+00:00",
        "updated_at": "2024-03-01T10:21:54+00:00",
        "closed_at": "2024-03-01T10:21:54+00:00",
        "comments_count": [
            "Bobholamovic",
            "itagan",
            "itagan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 112,
        "title": "function_calling ç›®å½•ä¸­æ²¡æœ‰ gradio_demo.pyè¿™ä¸ªæ–‡ä»¶",
        "body": null,
        "state": "closed",
        "user": "liuzhengcai",
        "closed_by": "sijunhe",
        "created_at": "2023-11-30T06:13:49+00:00",
        "updated_at": "2023-12-04T05:32:18+00:00",
        "closed_at": "2023-12-04T05:32:18+00:00",
        "comments_count": [
            "shiyutang",
            "Bobholamovic",
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 108,
        "title": "å»ºè®® ErnieEmbeddings æ”¯æŒ qianfançš„ak/ské‰´æƒæ–¹å¼",
        "body": "# ç›®å‰ ErnieEmbeddings ä»…æ”¯æŒaistudioæ¨¡å¼ï¼Œä¸æ”¯æŒ qianfançš„ak/ské‰´æƒæ–¹å¼\r\n\r\n\r\n```python\r\nembeddings = ErnieEmbeddings(aistudio_access_token=aistudio_access_token, \r\n                             chunk_size=16,\r\n                             sleep_time=0.5)\r\n```",
        "state": "open",
        "user": "livingbody",
        "closed_by": null,
        "created_at": "2023-11-29T16:31:26+00:00",
        "updated_at": "2023-11-30T03:55:52+00:00",
        "closed_at": null,
        "comments_count": [
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 197,
        "title": "REAMDEé‰´æƒç›¸å…³é“¾æ¥å…¨éƒ¨å¤±æ•ˆ",
        "body": "åœ¨developçš„[README](https://github.com/PaddlePaddle/ERNIE-Bot-SDK/blob/52d23f4196b89b98f892969c6acb0b3b69425160/README.md)ä¸­é‰´æƒç›¸å…³æ–‡æ¡£é“¾æ¥å‡å·²å¤±æ•ˆã€‚\r\n",
        "state": "closed",
        "user": "SWHL",
        "closed_by": "sijunhe",
        "created_at": "2023-12-22T05:55:40+00:00",
        "updated_at": "2023-12-28T04:01:45+00:00",
        "closed_at": "2023-12-27T12:42:00+00:00",
        "comments_count": [
            "sijunhe",
            "SWHL",
            "Southpika",
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 307,
        "title": "è‡ªå®šä¹‰ Remote Toolï¼ŒFastAPI çš„web æœåŠ¡",
        "body": "å®˜æ–¹æä¾›çš„ä»£ç ï¼š\r\n<img width=\"945\" alt=\"image\" src=\"https://github.com/PaddlePaddle/ERNIE-SDK/assets/44015698/c60cec96-082d-4841-9e87-eb8abb93b8ec\">\r\næœåŠ¡å¯ä»¥èµ·æ¥ï¼Œä¿¡æ¯å¦‚ä¸‹ï¼š\r\nINFO:     Started server process [66580]\r\nINFO:     Waiting for application startup.\r\nINFO:     Application startup complete.\r\nINFO:     Uvicorn running on http://0.0.0.0:8020 (Press CTRL+C to quit)\r\nINFO:     127.0.0.1:49190 - \"GET /.well-known/openapi.yaml HTTP/1.1\" 200 OK\r\nINFO:     10.10.58.119:36570 - \"GET /.well-known/openapi.yaml HTTP/1.1\" 200 OK\r\n\r\nä½†æ˜¯é€šè¿‡å®˜æ–¹æä¾›è¿™æ®µä»£ç è°ƒç”¨ï¼Œå¤±è´¥äº†ï¼š\r\n<img width=\"965\" alt=\"image\" src=\"https://github.com/PaddlePaddle/ERNIE-SDK/assets/44015698/2e59c4d0-57d8-4abe-b226-f91c7332cc65\">\r\nå¤±è´¥ä¿¡æ¯å¦‚ä¸‹ï¼š\r\n toolkit = RemoteToolkit.from_url(\"http://127.0.0.1:8020\")  # å¿…é¡»å­˜åœ¨ï¼šhttp://xxx.com/.well-known/openapi.yaml\r\n  File \"/home/envs/Paddle/lib/python3.8/site-packages/erniebot_agent/tools/remote_toolkit.py\", line 295, in from_url\r\n    toolkit = RemoteToolkit.from_openapi_file(\r\n  File \"/home/envs/Paddle/lib/python3.8/site-packages/erniebot_agent/tools/remote_toolkit.py\", line 229, in from_openapi_file\r\n    return cls.from_openapi_dict(\r\n  File \"/home/envs/Paddle/lib/python3.8/site-packages/erniebot_agent/tools/remote_toolkit.py\", line 175, in from_openapi_dict\r\n    info = EndpointInfo(**openapi_dict[\"info\"])\r\nTypeError: __init__() missing 1 required positional argument: 'description'\r\n\r\n",
        "state": "open",
        "user": "zongking123",
        "closed_by": null,
        "created_at": "2024-01-23T10:09:54+00:00",
        "updated_at": "2024-04-17T09:09:02+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 164,
        "title": "The access token provided is invalid or has expired",
        "body": "æ§åˆ¶å°çš„è®¿é—®ä»¤ç‰Œï¼š\r\n![image](https://github.com/PaddlePaddle/ERNIE-Bot-SDK/assets/16237619/a9383f58-8e60-4d6b-b9d9-646242711cbd)\r\nå¯ä»¥ä½¿ç”¨â€œaistudioâ€ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨â€œyinianâ€è¿›è¡Œæ–‡ç”Ÿå›¾ï¼ŒæŠ¥é”™tokenå¤±æ•ˆï¼š\r\n![error1-masked](https://github.com/PaddlePaddle/ERNIE-Bot-SDK/assets/16237619/362d27da-c03c-4486-824d-3d07bc98a700)\r\nè¯·é—®æ€ä¹ˆè§£å†³ï¼Œè°¢è°¢",
        "state": "closed",
        "user": "oukohou",
        "closed_by": "oukohou",
        "created_at": "2023-12-18T02:33:13+00:00",
        "updated_at": "2023-12-18T06:11:54+00:00",
        "closed_at": "2023-12-18T06:11:53+00:00",
        "comments_count": [
            "oukohou",
            "oukohou"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 196,
        "title": "å…¼å®¹openaiçš„apiæ ¼å¼",
        "body": "ç°å¦‚ä»Šï¼Œæœ‰å¾ˆå¤šåº”ç”¨æ¡†æ¶éƒ½æ˜¯åŸºäºopenaiçš„apiæ ¼å¼å¼€å‘çš„ï¼Œèƒ½å¦æä¾›ä¸€ç§æ–¹å¼ï¼Œè®©å®ƒå½»åº•å…¼å®¹openai.apiçš„æ ¼å¼ï¼Ÿ",
        "state": "closed",
        "user": "China-MYJSY",
        "closed_by": "China-MYJSY",
        "created_at": "2023-12-22T01:34:15+00:00",
        "updated_at": "2024-01-12T03:00:34+00:00",
        "closed_at": "2024-01-12T03:00:34+00:00",
        "comments_count": [
            "Bobholamovic",
            "China-MYJSY"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 207,
        "title": "[Enhancement] using jsonref to parse oepnapi.yaml",
        "body": "[jsonref](https://pypi.org/project/jsonref/)  lets you use a data structure with JSON reference objects, as if the references had been replaced with the referent data.\r\n\r\n```python\r\n>>> from pprint import pprint\r\n>>> import jsonref\r\n\r\n>>> # An example json document\r\n>>> json_str = \"\"\"{\"real\": [1, 2, 3, 4], \"ref\": {\"$ref\": \"#/real\"}}\"\"\"\r\n>>> data = jsonref.loads(json_str)\r\n>>> pprint(data)  # Reference is not evaluated until here\r\n{'real': [1, 2, 3, 4], 'ref': [1, 2, 3, 4]}\r\n```\r\n\r\n\r\nrefer to:\r\n\r\n* https://cookbook.openai.com/examples/function_calling_with_an_openapi_spec",
        "state": "closed",
        "user": "wj-Mcat",
        "closed_by": "wj-Mcat",
        "created_at": "2023-12-25T04:07:48+00:00",
        "updated_at": "2024-02-29T02:36:50+00:00",
        "closed_at": "2024-02-29T02:36:50+00:00",
        "comments_count": [
            "wj-Mcat"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 256,
        "title": "è¯·é—®æ”¯æŒtool_callså—ï¼Ÿ",
        "body": " - ç‰ˆæœ¬ 0.4.0\r\n\r\næˆ‘çœ‹æ–‡æ¡£çš„Function Callingåªæœ‰functionså‚æ•°ï¼Œè¯·é—®æ”¯æŒtoolså‚æ•°å—ï¼Ÿå› ä¸ºæˆ‘æƒ³å®ç°ä¸€å¥è¯ä¸­å¯ä»¥åŒæ—¶è¯†åˆ«å¤šä¸ªæ„å›¾ã€‚\r\nä¾‹å¦‚`è¯·æ‰“å¼€ç¯ï¼Œç„¶åå¼€å§‹ç…®ç±³é¥­`ï¼Œè¿™é‡Œé¢æœ‰ä¸¤ä¸ªæ„å›¾ã€‚\r\n\r\nå¦‚æœç”¨functionsï¼Œåªè¿”å›ä¸€ä¸ªjsonï¼Œè€Œä¸æ˜¯listã€‚",
        "state": "closed",
        "user": "yeyupiaoling",
        "closed_by": "sijunhe",
        "created_at": "2024-01-02T08:26:56+00:00",
        "updated_at": "2024-01-14T08:39:32+00:00",
        "closed_at": "2024-01-14T08:39:32+00:00",
        "comments_count": [
            "Southpika",
            "Xtaiyang",
            "Xtaiyang",
            "Southpika",
            "Xtaiyang",
            "Xtaiyang",
            "Xtaiyang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 310,
        "title": "å®˜æ–¹æä¾›çš„remote toolè¯†åˆ«ocræŠ¥é”™",
        "body": "ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š\r\nfile_manager = GlobalFileManagerHandler().get()\r\n   file = await file_manager.create_file_from_path(\"road_sign.jpeg\")\r\n    response = await agent_all.run(\"å¸®æˆ‘æŠŠå›¾ç‰‡ä¸­çš„ç¬¬ä¸€ä¸ªè‹±è¯­å•è¯è¿›è¡Œè§£é‡Šä¹‹åæ·»åŠ åˆ°å•è¯æœ¬ä¸­\", files=[file])\r\n    print(response.text)\r\n    \r\n æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š\r\n  function_call: \r\n{\r\n  \"name\": \"highacc-ocr/v1.8/OCR\",\r\n  \"thoughts\": \"å›¾ç‰‡æ ¼å¼é”™è¯¯ï¼Œæˆ‘éœ€è¦é‡æ–°è°ƒç”¨OCRå·¥å…·æ¥æå–å›¾ç‰‡ä¸­çš„æ–‡å­—ã€‚\",\r\n  \"arguments\": \"{\\\"image\\\":\\\"file-local-e8215a4a-ba5b-11ee-95be-ac1f6bb32462\\\",\\\"language_type\\\":\\\"auto_detect\\\"}\"\r\n} \r\nINFO - [Tool][Start] RemoteTool is about to start running with input:\r\n{\r\n  \"image\": \"file-local-e8215a4a-ba5b-11ee-95be-ac1f6bb32462\",\r\n  \"language_type\": \"auto_detect\"\r\n}\r\nINFO - [Tool][End] RemoteTool finished running with output:\r\n{\r\n  \"error_msg\": \"image format error\",\r\n  \"error_code\": 216201\r\n}\r\næ›´æ¢äº†å¥½å‡ å¼ å›¾ç‰‡éƒ½æ˜¯æŠ¥è¿™ä¸ªé”™è¯¯",
        "state": "open",
        "user": "zongking123",
        "closed_by": null,
        "created_at": "2024-01-24T01:59:48+00:00",
        "updated_at": "2024-05-15T11:19:11+00:00",
        "closed_at": null,
        "comments_count": [
            "ddz-mark"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 299,
        "title": "å¤šä»£ç†æ¨¡å¼ç›®å‰å®ç°äº†å—",
        "body": "ç›®å‰å•ä»£ç†ï¼ˆä»»åŠ¡ä¸ºå¯¼å‘ï¼‰å·²ç»å®ç°\r\nå¤šä»£ç†",
        "state": "open",
        "user": "Xtaiyang",
        "closed_by": null,
        "created_at": "2024-01-18T01:53:18+00:00",
        "updated_at": "2024-03-11T14:11:34+00:00",
        "closed_at": null,
        "comments_count": [
            "Bobholamovic",
            "Bobholamovic",
            "Xtaiyang",
            "Xtaiyang",
            "Bobholamovic",
            "Xtaiyang",
            "Xtaiyang",
            "Bobholamovic",
            "Xtaiyang"
        ],
        "labels": [
            "multi-agents"
        ]
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 297,
        "title": "è¯·é—®ä½¿ç”¨ERNIE Bot Agentå¼€å‘ï¼Œæ€ä¹ˆè®¾ç½®systemå‘¢ï¼Ÿ",
        "body": "erniebot ä½¿ç”¨function callingæ˜¯æ— æ³•è®¾ç½®systemçš„ï¼Œä¹Ÿä¸éœ€è¦è®¾ç½®systemã€‚\r\nä½†æ˜¯agentæ˜¯éœ€è¦è®¾ç½®çš„ï¼Œå¦åˆ™é™åˆ¶éå¸¸å¤šï¼Œæˆ‘æ‰¾äº†å¼€å‘æ–‡æ¡£ï¼Œæ²¡ä¹Ÿæ‰¾åˆ°ç›¸å…³çš„è¯´æ˜ï¼Œå¸Œæœ›èƒ½æŒ‡å¯¼ä¸€ä¸‹ï¼Œè°¢è°¢ï¼",
        "state": "closed",
        "user": "ailijian",
        "closed_by": "sijunhe",
        "created_at": "2024-01-17T08:32:31+00:00",
        "updated_at": "2024-03-04T13:28:57+00:00",
        "closed_at": "2024-03-04T13:28:57+00:00",
        "comments_count": [
            "sijunhe",
            "ailijian",
            "ailijian",
            "sijunhe",
            "ailijian",
            "Bobholamovic",
            "ailijian",
            "Bobholamovic",
            "ailijian",
            "ailijian",
            "Bobholamovic",
            "ailijian",
            "ailijian",
            "ailijian",
            "Southpika",
            "Xtaiyang",
            "ailijian",
            "ailijian",
            "Xtaiyang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 320,
        "title": "è¯·é—®èƒ½å¤Ÿæ¥å…¥å…¶ä»–çš„æ¨¡å‹å—ï¼Ÿ",
        "body": "çœ‹docsä¸Šç°åœ¨æ˜¯åªèƒ½ç”¨æ–‡å¿ƒä¸€è¨€ï¼Ÿèƒ½ä¸èƒ½ç”¨æœ¬åœ°çš„chatglmæˆ–è€…æ˜¯openaiçš„æ¥å£å‘€ï¼Ÿ\r\n\r\næ„Ÿè°¢å›å¤ğŸ™ç›®å‰çš„ä½¿ç”¨ä½“éªŒæ„ŸçœŸçš„å¾ˆæ£’â¤ï¸ï½",
        "state": "open",
        "user": "caizhuoyue77",
        "closed_by": null,
        "created_at": "2024-02-23T02:30:08+00:00",
        "updated_at": "2024-02-28T06:13:02+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 316,
        "title": "è¯·æ±‚å¯¹agentsçš„æ–‡æ¡£å’Œä½¿ç”¨è¯´æ˜è¿›è¡Œè¡¥å…¨",
        "body": "æ ¹æ®ä»£ç å¯ä»¥è§‚å¯Ÿåˆ°`erniebot-agent/src/erniebot_agent/agents/agent.py`å·²ç»æ”¯æŒäº†systemçš„å‚æ•°ï¼Œå› æ­¤Agent[class]å…·æœ‰è§’è‰²æ‰®æ¼”çš„åŸºç¡€åŠŸèƒ½ã€‚\r\n\r\nå¸Œæœ›å¯ä»¥è¡¥å…¨è¯¥æ¨¡å—çš„æ–‡æ¡£ï¼Œå¹¶å°†`è§’è‰²æ‰®æ¼”`ä½œä¸ºé¢„åˆ¶æ–¹æ³•æˆ–æ ·ä¾‹ã€‚\r\n\r\nè¯·æ±‚å®Œæˆä¸Šè¿°éœ€æ±‚ã€‚",
        "state": "closed",
        "user": "Liyulingyue",
        "closed_by": "Liyulingyue",
        "created_at": "2024-02-15T11:16:36+00:00",
        "updated_at": "2024-02-24T08:01:08+00:00",
        "closed_at": "2024-02-24T08:00:44+00:00",
        "comments_count": [
            "Liyulingyue"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 318,
        "title": "è¯·é—®æˆ‘è‡ªå®šä¹‰çš„æœ¬åœ°å·¥å…·æŠ¥è¿™ä¸ªé”™è¯¯å’‹å›äº‹    for field_name, field_info in cls.model_fields.items(): AttributeError: type object 'BihaiAddTimeIn' has no attribute 'model_fields'",
        "body": null,
        "state": "open",
        "user": "yst-one",
        "closed_by": null,
        "created_at": "2024-02-21T02:44:43+00:00",
        "updated_at": "2024-03-05T03:03:21+00:00",
        "closed_at": null,
        "comments_count": [
            "yst-one",
            "itagan",
            "itagan",
            "itagan",
            "Bobholamovic"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 323,
        "title": "è‡ªå·±å†™äº†ä¸€ä¸ªRUST SDKï¼Œæœ‰å¤§ä½¬æ„¿æ„çœ‹çœ‹å˜›å“ˆå“ˆå“ˆ",
        "body": "[erniebot-rs](https://github.com/chenwanqq/erniebot-rs)ï¼Œæ¬¢è¿å„ä½å¤§ä½¬æ‰¹è¯„æŒ‡æ­£å“ˆï¼Œv0.1ç‰ˆæœ¬è¿˜å¾ˆä¸å®Œå–„ï¼Œæ–‡æ¡£åŸºæœ¬ç­‰äºæ²¡æœ‰",
        "state": "closed",
        "user": "chenwanqq",
        "closed_by": "sijunhe",
        "created_at": "2024-02-26T10:05:02+00:00",
        "updated_at": "2024-04-17T09:08:16+00:00",
        "closed_at": "2024-04-17T09:08:16+00:00",
        "comments_count": [
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 317,
        "title": "æœ‰è®¡åˆ’å‡ºrustçš„SDKä¹ˆ",
        "body": "RTï¼Œå¦‚æœè¿‘æœŸæ²¡è®¡åˆ’çš„è¯æˆ‘æ‰“ç®—åšä¸€ä¸ªç»ƒç»ƒæ‰‹^^",
        "state": "closed",
        "user": "chenwanqq",
        "closed_by": "sijunhe",
        "created_at": "2024-02-18T06:52:54+00:00",
        "updated_at": "2024-04-17T09:08:39+00:00",
        "closed_at": "2024-04-17T09:08:39+00:00",
        "comments_count": [
            "itagan",
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 321,
        "title": "ernie-bot-agent ä¸æ”¯æŒåœ¨aistudioçš„notebookç¯å¢ƒä¸­è¿è¡Œ",
        "body": "åœ¨AIStudioä¸­æ— æ³•é€šè¿‡\r\n```\r\n! export EB_AGENT_ACCESS_TOKEN=<aistudio-access-token>\r\n! export EB_AGENT_LOGGING_LEVEL=info\r\n```\r\nå¯¼å…¥ç¯å¢ƒå˜é‡ï¼Œä»è€Œå¢åŠ ernie-bot-agentåœ¨aistudioä¸Šåº”ç”¨å’Œéƒ¨ç½²çš„éš¾åº¦ã€‚",
        "state": "closed",
        "user": "Liyulingyue",
        "closed_by": "Liyulingyue",
        "created_at": "2024-02-24T08:14:18+00:00",
        "updated_at": "2024-03-09T12:53:57+00:00",
        "closed_at": "2024-03-09T12:53:57+00:00",
        "comments_count": [
            "itagan",
            "Bobholamovic",
            "Liyulingyue"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 326,
        "title": "è¿è¡Œquestion_bot.pyæŠ¥é”™è¯·é—®æ˜¯å“ªé‡Œå‡ºé—®é¢˜äº†ï¼Œå®‰è£…äº†langchain-communityä¾ç„¶æŠ¥é”™",
        "body": "E:\\jupyter\\ERNIE-SDK\\py311\\Scripts\\python.exe E:\\jupyter\\ERNIE-SDK\\erniebot-agent\\applications\\eb-agent-qa-bot\\question_bot.py --init=True --access-token xxxxxxxxxxxxxxxxxxxxxxxxxxxx \r\n  0%|          | 0/8 [00:00<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\auth.py\", line 85, in upsert_auth_token\r\n    auth_token = token_requestor()\r\n                 ^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\auth.py\", line 172, in _request_auth_token\r\n    raise RuntimeError(\"Invalid API key or secret key\")\r\nRuntimeError: Invalid API key or secret key\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\jupyter\\ERNIE-SDK\\erniebot-agent\\applications\\eb-agent-qa-bot\\question_bot.py\", line 99, in <module>\r\n    agent = load_agent()\r\n            ^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\erniebot-agent\\applications\\eb-agent-qa-bot\\question_bot.py\", line 67, in load_agent\r\n    init_db(faiss_name, faiss_name_module, embeddings)\r\n  File \"E:\\jupyter\\ERNIE-SDK\\erniebot-agent\\applications\\eb-agent-qa-bot\\init_vector_db.py\", line 93, in init_db\r\n    content_doc = load_md_files_to_doc(md_file_path, chunk_size, chunk_overlap)\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\erniebot-agent\\applications\\eb-agent-qa-bot\\init_vector_db.py\", line 75, in load_md_files_to_doc\r\n    splits[i].page_content = get_summary(splits[i].page_content)\r\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\erniebot-agent\\applications\\eb-agent-qa-bot\\init_vector_db.py\", line 24, in get_summary\r\n    summary = erniebot.ChatCompletion.create(\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\resources\\chat_completion.py\", line 261, in create\r\n    resp = resource.create_resource(**kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\resources\\abc\\creatable.py\", line 67, in create_resource\r\n    resp = self.request(\r\n           ^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\resources\\resource.py\", line 144, in request\r\n    for attempt in retrying:\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\tenacity\\__init__.py\", line 347, in __iter__\r\n    do = self.iter(retry_state=retry_state)\r\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\tenacity\\__init__.py\", line 314, in iter\r\n    return fut.result()\r\n           ^^^^^^^^^^^^\r\n  File \"C:\\Users\\ThinkPad\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\concurrent\\futures\\_base.py\", line 449, in result\r\n    return self.__get_result()\r\n           ^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\ThinkPad\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\concurrent\\futures\\_base.py\", line 401, in __get_result\r\n    raise self._exception\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\resources\\resource.py\", line 146, in request\r\n    return self._request(\r\n           ^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\resources\\resource.py\", line 340, in _request\r\n    resp = self._backend.request(\r\n           ^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\backends\\bce.py\", line 71, in request\r\n    access_token = self._auth_manager.get_auth_token()\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\auth.py\", line 113, in get_auth_token\r\n    self._token = self._init_auth_token()\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\auth.py\", line 137, in _init_auth_token\r\n    token = self._update_cache(init=True)\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\auth.py\", line 144, in _update_cache\r\n    token, upserted = self._cache.upsert_auth_token(\r\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"E:\\jupyter\\ERNIE-SDK\\py311\\Lib\\site-packages\\erniebot\\auth.py\", line 87, in upsert_auth_token\r\n    raise errors.TokenUpdateFailedError from e\r\nerniebot.errors.TokenUpdateFailedError\r\n\r\n",
        "state": "open",
        "user": "ATM006",
        "closed_by": null,
        "created_at": "2024-02-29T08:16:12+00:00",
        "updated_at": "2024-10-18T03:14:39+00:00",
        "closed_at": null,
        "comments_count": [
            "w5688414",
            "Southpika",
            "JRYan888",
            "JRYan888",
            "JRYan888"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 327,
        "title": "faisså‡çº§faiss.swigfaiss.IndexFlatIPæ”¹ä¸ºfaiss.IndexFlatIP",
        "body": "æ–‡ä»¶erniebot/examples/quick_start/gradio_demo.py\r\n\r\nè¿è¡ŒæŠ¥é”™ï¼šmodule 'faiss' has no attribute 'swigfaiss'\r\n\r\nè§£å†³æ–¹æ³•ï¼šå› faisså‡çº§ï¼Œå°†åŸä»£ç ä¸­çš„â€œfaiss.swigfaiss.IndexFlatIPâ€œä¿®æ”¹ä¸ºâ€œfaiss.IndexFlatIPâ€œ\r\n\r\nä½ç½®ï¼š\r\nhttps://github.com/PaddlePaddle/ERNIE-SDK/blob/157ca7ea006dc302f173f0919d4df4562c666590/erniebot/examples/quick_start/gradio_demo.py#L556\r\nhttps://github.com/PaddlePaddle/ERNIE-SDK/blob/157ca7ea006dc302f173f0919d4df4562c666590/erniebot/examples/quick_start/gradio_demo.py#L564\r\n\r\n",
        "state": "open",
        "user": "madagastar",
        "closed_by": null,
        "created_at": "2024-03-03T07:05:36+00:00",
        "updated_at": "2024-03-04T03:18:06+00:00",
        "closed_at": null,
        "comments_count": [
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 325,
        "title": "function callå‡ºäº†æ­£ç¡®ç»“æœäº†ï¼Œä½†æ˜¯æœ€åä¸€æ­¥æ¨¡å‹å›ç­”çš„è¿˜æ˜¯é”™è¯¯çš„ç­”æ¡ˆã€‚",
        "body": "æŒ‰ç…§å®˜æ–¹çš„erniebot-agent/cookbook/local_tool.ipynbï¼Œæ”¹äº†ä¸€ä¸ªå¤©æ°”æŸ¥è¯¢çš„demoï¼Œæ˜æ˜function callå‡ºäº†æ­£ç¡®çš„ç»“æœï¼Œä½†æ˜¯æœ€åä¸€æ­¥æ¨¡å‹å›ç­”çš„è¿˜æ˜¯é”™è¯¯çš„ç­”æ¡ˆã€‚\r\n```Python\r\nfrom __future__ import annotations\r\nimport os\r\nos.environ[\"EB_AGENT_LOGGING_LEVEL\"] = \"DEBUG\"\r\nos.environ['EB_AGENT_ACCESS_TOKEN'] = 'xxx'\r\n\r\nimport asyncio\r\n\r\nfrom typing import Any, Dict, Type, List\r\nfrom pydantic import Field\r\nfrom erniebot_agent.tools.base import Tool\r\nfrom erniebot_agent.tools.schema import ToolParameterView\r\nfrom erniebot_agent.agents.function_agent import FunctionAgent\r\nfrom erniebot_agent.chat_models import ERNIEBot\r\nfrom erniebot_agent.memory import WholeMemory\r\n\r\nclass WeatherInput(ToolParameterView):\r\n    location: str = Field(description=\"è¦æŸ¥è¯¢å¤©æ°”çš„åœ°ç‚¹\")\r\n\r\nclass WeatherOutput(ToolParameterView):\r\n    result: str = Field(description=\"æŸ¥è¯¢å¤©æ°”çš„ç»“æœ\")\r\n\r\nclass WeatherTool(Tool):\r\n    description: str = \"æŸ¥è¯¢æŸåœ°å¤©æ°”ï¼Œè¿”å›ç»“æœ\"\r\n    input_type: Type[ToolParameterView] = WeatherInput\r\n    ouptut_type: Type[ToolParameterView] = WeatherOutput\r\n\r\n    def __init__(self) -> None:\r\n        super().__init__()\r\n\r\n    async def __call__(self, location: str) -> Dict[str, Any]:\r\n        return location + 'å¤šäº‘ï¼Œ25-30åº¦'\r\n    \r\nagent = FunctionAgent(ERNIEBot(\"ernie-3.5\"), tools=[WeatherTool()], memory=WholeMemory())\r\nresult =  asyncio.run(agent.run(\"ä»Šå¤©åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ\"))\r\nprint(result)\r\n```\r\n\r\nç»“æœï¼š\r\n![image](https://github.com/PaddlePaddle/ERNIE-SDK/assets/25955924/d370e712-c73a-4d8b-a6ca-fa3537663a80)\r\n",
        "state": "closed",
        "user": "illiterate",
        "closed_by": "illiterate",
        "created_at": "2024-02-29T01:11:12+00:00",
        "updated_at": "2024-02-29T07:52:13+00:00",
        "closed_at": "2024-02-29T07:36:19+00:00",
        "comments_count": [
            "itagan",
            "itagan",
            "itagan",
            "illiterate",
            "itagan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 333,
        "title": "è¯·é—®ä¸€ä¸‹è¿è¡Œretrieval_function_callçš„æ—¶å€™æŠ¥é”™æ˜¯ä»€ä¹ˆåŸå› ",
        "body": "pydantic.errors.PydanticSchemaGenerationError: Unable to generate pydantic-core schema for <class 'pandas.core.frame.DataFrame'>. Set `arbitrary_types_allowed=True` in the model_config to ignore this error or implement `__get_pydantic_core_schema__` on your type to fully support it.\r\n\r\nIf you got this error by calling handler(<some type>) within `__get_pydantic_core_schema__` then you likely need to call `handler.generate_schema(<some type>)` since we do not call `__get_pydantic_core_schema__` on `<some type>` otherwise to avoid infinite recursion.\r\n\r\nFor further information visit https://errors.pydantic.dev/2.6/u/schema-for-unknown-type\r\nåœ¨é…ç½®å®Œç¯å¢ƒä¹‹åè¿è¡ŒdemoæŠ¥å‡ºå¦‚ä¸Šé”™è¯¯",
        "state": "open",
        "user": "Huanghongli",
        "closed_by": null,
        "created_at": "2024-03-14T11:01:55+00:00",
        "updated_at": "2024-03-14T11:01:59+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 328,
        "title": "å¤šä»£ç†æ¨¡å¼ç›®å‰å®ç°äº†å—ï¼Œcozeé‚£ä¸ªè®¾è®¡çš„ä¸é”™",
        "body": null,
        "state": "open",
        "user": "Xtaiyang",
        "closed_by": null,
        "created_at": "2024-03-03T13:50:03+00:00",
        "updated_at": "2024-03-11T14:10:47+00:00",
        "closed_at": null,
        "comments_count": [
            "w5688414",
            "Xtaiyang"
        ],
        "labels": [
            "multi-agents"
        ]
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 330,
        "title": "æ˜Ÿæ²³ç¤¾åŒºçš„tokenï¼ˆä»¤ç‰Œï¼‰é‡‡ç”¨æ™ºèƒ½ä½“åŒ…ä¸­çš„ERNIEBotè®¿é—®æ—¶æŠ¥[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:997)')ï¼ˆåœ¨Aistudioä¸­è°ƒç”¨æ˜¯æ­£å¸¸çš„ï¼‰",
        "body": "æ˜Ÿæ²³ç¤¾åŒºçš„tokenï¼ˆä»¤ç‰Œï¼‰é‡‡ç”¨æ™ºèƒ½ä½“åŒ…ä¸­çš„ï¼ˆfrom erniebot_agent.chat_models import ERNIEBotï¼‰ERNIEBotè®¿é—®æ—¶æŠ¥[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:997)')é”™è¯¯ã€‚è€Œé‡‡ç”¨erniebotåŒ…æ—¶æ­£å¸¸ã€‚\r\nä»£ç ï¼š\r\nos.environ[\"EB_AGENT_LOGGING_LEVEL\"] = \"INFO\"  #  è¿™ä¸ªæ˜¯æ—¥å¿—åŒ…\r\nos.environ[\"EB_AGENT_ACCESS_TOKEN\"] = \"********\"  #  è¿™æ˜¯æ˜Ÿæ²³ç¤¾åŒºçš„tokenï¼ˆä»¤ç‰Œï¼‰è¾“å…¥ä½ è‡ªå·±çš„token\r\nasync def func():\r\n    ai_message = await model.chat(messages=messages)\r\n    print(ai_message.content)\r\n\r\nasyncio.run(func())\r\né”™è¯¯ï¼š\r\n/home/ernie/bin/python /home/ernie/erniebot/2.py\r\nTraceback (most recent call last):\r\n  File \"/home/ernie/lib/python3.10/site-packages/aiohttp/connector.py\", line 992, in _wrap_create_connection\r\n    return await self._loop.create_connection(*args, **kwargs)\r\n  File \"/home/zhougx/python3.10/lib/python3.10/asyncio/base_events.py\", line 1089, in create_connection\r\n    transport, protocol = await self._create_connection_transport(\r\n  File \"/home/zhougx/python3.10/lib/python3.10/asyncio/base_events.py\", line 1119, in _create_connection_transport\r\n    await waiter\r\n  File \"/home/zhougx/python3.10/lib/python3.10/asyncio/sslproto.py\", line 534, in data_received\r\n    ssldata, appdata = self._sslpipe.feed_ssldata(data)\r\n  File \"/home/zhougx/python3.10/lib/python3.10/asyncio/sslproto.py\", line 188, in feed_ssldata\r\n    self._sslobj.do_handshake()\r\n  File \"/home/zhougx/python3.10/lib/python3.10/ssl.py\", line 975, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:997)\r\n\r\n",
        "state": "closed",
        "user": "zhougx88",
        "closed_by": "zhougx88",
        "created_at": "2024-03-05T01:00:09+00:00",
        "updated_at": "2024-03-05T03:12:34+00:00",
        "closed_at": "2024-03-05T02:24:11+00:00",
        "comments_count": [
            "itagan",
            "itagan",
            "zhougx88",
            "itagan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 332,
        "title": "æ™ºèƒ½ä½“éœ€è¦å¤šæ¬¡æ‰§æ³•FCï¼Œè€Œåœ¨æ–‡å¿ƒè¿”å›ç»“æœä¸­åªæœ‰ä¸€ä¸ªFCåŠå…¶ç›¸å…³å‚æ•°",
        "body": "æ™ºèƒ½ä½“å·²ç»åˆ¤æ–­å‡ºéœ€è¦æ‰§è¡Œä¸¤ä¸ªFC:get_current_temperature,get_current_swing.ï¼ˆè¿™éœ€è¦æˆ‘è°ƒç”¨'get_current_temperature'å’Œ'get_current_swing'å·¥å…·ï¼‰\r\nä½†åœ¨è¿”å›ç»“æœä¸­åªæœ‰ä¸€ä¸ªFC:\r\n    name': 'get_current_temperature', 'arguments': '{\"location\":\"æ·±åœ³\",\"unit\":\"æ‘„æ°åº¦\"}\r\nç¬¬äºŒä¸ªéœ€è¦æ‰§è¡Œçš„FCæ²¡æœ‰è¿”å›ç»“æœï¼Œåº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ\r\nå¦‚ä¸‹ï¼š\r\nenv3.10) [root@localhost Langchain-Chatchat-2.6]# /home/env3.10/bin/python3.10 /home/env3.10/Langchain-Chatchat-2.6/erniebot/agent_tool.py\r\n{'name': 'get_current_temperature', 'thoughts': \"ç”¨æˆ·æƒ³è¦çŸ¥é“æ·±åœ³å¸‚ä»Šå¤©çš„å¤©æ°”æƒ…å†µï¼Œä»¥åŠæ˜¯å¦é€‚åˆè¿›è¡Œæˆ·å¤–æ´»åŠ¨ã€‚è¿™éœ€è¦æˆ‘è°ƒç”¨'get_current_temperature'å’Œ'get_current_swing'å·¥å…·ã€‚ä»»åŠ¡æ‹†è§£ï¼š[sub-task1: ä½¿ç”¨[get_current_temperature]è·å–æ·±åœ³å¸‚ä»Šå¤©çš„æ¸©åº¦ï¼Œsub-task2: ä½¿ç”¨[get_current_swing]è·å–æ·±åœ³å¸‚ä»Šå¤©çš„é£åŠ›]ã€‚æ¥ä¸‹æ¥éœ€è¦è°ƒç”¨[get_current_temperature]å·¥å…·æ¥è·å–æ·±åœ³å¸‚ä»Šå¤©çš„æ¸©åº¦ä¿¡æ¯ã€‚\", 'arguments': '{\"location\":\"æ·±åœ³\",\"unit\":\"æ‘„æ°åº¦\"}'}\r\n2024-03-13 14:39:45,271 - _client.py[line:1013] - INFO: HTTP Request: GET http://10.74.1.13:8020/get_current_temperature1?city=%E5%8C%97%E4%BA%AC&unit=%E6%91%84%E6%B0%8F%E5%BA%A6 \"HTTP/1.1 200 OK\"\r\næ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ·±åœ³å¸‚ä»Šå¤©çš„æ¸©åº¦ä¸º20æ‘„æ°åº¦ã€‚è¿™ä¸ªæ¸©åº¦å¯¹äºæˆ·å¤–æ´»åŠ¨æ¥è¯´æ˜¯æ¯”è¾ƒé€‚å®œçš„ï¼Œä½†å…·ä½“æ˜¯å¦é€‚åˆè¿˜éœ€è¦è€ƒè™‘å…¶ä»–å› ç´ ï¼Œå¦‚é£åŠ›ã€é™æ°´ç­‰ã€‚å¦‚æœæ‚¨éœ€è¦æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œå»ºè®®æŸ¥è¯¢å½“åœ°çš„å¤©æ°”é¢„æŠ¥æˆ–å’¨è¯¢ç›¸å…³ä¸“ä¸šäººå£«ã€‚å¸Œæœ›è¿™ä¸ªå›ç­”èƒ½å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚",
        "state": "closed",
        "user": "zhougx88",
        "closed_by": "zhougx88",
        "created_at": "2024-03-13T06:48:58+00:00",
        "updated_at": "2024-03-25T00:53:36+00:00",
        "closed_at": "2024-03-25T00:53:36+00:00",
        "comments_count": [
            "itagan",
            "itagan",
            "zhougx88"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 331,
        "title": "RemoteToolkit.from_url(\"http://127.0.0.1:8020\")è¯»å–openapi.yamlæˆåŠŸï¼Œä½†è§£ææ—¶æŠ¥é”™ã€‚",
        "body": "é€šè¿‡FastAPIå®šä¹‰äº†æ¥å£ï¼Œå‘å¸ƒäº†.well-known/openapi.yamlã€‚å…¶ä¸­\r\n\"openapi\": \"3.1.0\",\r\n  \"info\": {\r\n    \"title\": \"FastAPI\",\r\n    \"version\": \"0.1.0\"\r\n  },\r\n......\r\n      \"HTTPValidationError\": {\r\n        \"properties\": {\r\n          \"detail\": {\r\n            \"items\": {\r\n              \"$ref\": \"#/components/schemas/ValidationError\"\r\n            },\r\n            \"type\": \"array\",\r\n            \"title\": \"Detail\"\r\n          }\r\n        },\r\n        \"type\": \"object\",\r\n        \"title\": \"HTTPValidationError\"\r\n      },\r\n \r\nä½†é€šè¿‡RemoteToolkit.from_url(\"http://127.0.0.1:8020\") æ—¶æŠ¥ä»¥ä¸‹é”™è¯¯ï¼š\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ernie/erniebot/4.py\", line 114, in <module>\r\n    toolkit = RemoteToolkit.from_url(\"http://127.0.0.1:8020\")  # å¿…é¡»å­˜åœ¨ï¼šhttp://xxx.com/.well-known/openapi.yaml\r\n  File \"/home/ernie/lib/python3.10/site-packages/erniebot_agent/tools/remote_toolkit.py\", line 305, in from_url\r\n    toolkit = RemoteToolkit.from_openapi_dict(\r\n  File \"/home/ernie/lib/python3.10/site-packages/erniebot_agent/tools/remote_toolkit.py\", line 185, in from_openapi_dict\r\n    parameter_view = ToolParameterView.from_openapi_dict(schema)\r\n  File \"/home/ernie/lib/python3.10/site-packages/erniebot_agent/tools/schema.py\", line 252, in from_openapi_dict\r\n    field_type = python_type_from_json_type(field_dict)\r\n  File \"/home/ernie/lib/python3.10/site-packages/erniebot_agent/tools/schema.py\", line 108, in python_type_from_json_type\r\n    assert \"type\" in json_type_dict[\"items\"], \"<items> field must be defined when 'type'=array\"\r\nAssertionError: <items> field must be defined when 'type'=array",
        "state": "closed",
        "user": "zhougx88",
        "closed_by": "zhougx88",
        "created_at": "2024-03-08T00:56:20+00:00",
        "updated_at": "2024-03-13T05:39:50+00:00",
        "closed_at": "2024-03-13T05:39:50+00:00",
        "comments_count": [
            "itagan",
            "zhougx88",
            "zhougx88"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 334,
        "title": "å­—æ®µå‘½åæ‹¼å†™é”™è¯¯",
        "body": "ouptut_type ==ã€‹output_type\r\n![æˆªå±2024-03-20 15 01 14](https://github.com/PaddlePaddle/ERNIE-SDK/assets/24641745/019b244f-572a-41ef-80cc-0f7ab6c0d8fb)\r\n",
        "state": "closed",
        "user": "itagan",
        "closed_by": "sijunhe",
        "created_at": "2024-03-20T07:01:45+00:00",
        "updated_at": "2024-04-14T07:48:55+00:00",
        "closed_at": "2024-04-14T07:48:55+00:00",
        "comments_count": [
            "sijunhe",
            "wj-Mcat"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 335,
        "title": "ä»»åŠ¡æµæ¨¡å¼æœ‰è€ƒè™‘åŠ å…¥ä¹ˆ",
        "body": null,
        "state": "closed",
        "user": "Xtaiyang",
        "closed_by": "w5688414",
        "created_at": "2024-04-02T01:12:25+00:00",
        "updated_at": "2024-05-07T03:38:25+00:00",
        "closed_at": "2024-05-07T03:38:25+00:00",
        "comments_count": [
            "w5688414",
            "xiabo0816"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 342,
        "title": "APIError: token å·²ç»ç”¨å®Œæ¯•ï¼Œè¯·å……å€¼åä½¿ç”¨",
        "body": "![image](https://github.com/PaddlePaddle/ERNIE-SDK/assets/115516093/0316f64c-9f56-4888-90fd-6321ec063e43)\r\nåˆ›å»ºå¯¹è¯è¿”å›é”™è¯¯accesstokenå·²ç”¨å®Œï¼Œtokenæ˜¯åˆšåœ¨aistudioåˆ›å»ºçš„\r\n![image](https://github.com/PaddlePaddle/ERNIE-SDK/assets/115516093/8ec401f9-a6ed-4479-94e1-2ca918d21cae)\r\n",
        "state": "closed",
        "user": "SwordyLee",
        "closed_by": "w5688414",
        "created_at": "2024-04-23T07:48:29+00:00",
        "updated_at": "2024-04-25T04:10:41+00:00",
        "closed_at": "2024-04-25T04:10:41+00:00",
        "comments_count": [
            "w5688414",
            "SwordyLee"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 336,
        "title": "BadRequestError: prompt tokens too long",
        "body": "æˆ‘åœ¨è¿è¡Œä½ ä»¬çš„llama-indexäºer\r\n![error](https://github.com/PaddlePaddle/ERNIE-SDK/assets/96066236/68e8abae-7bf8-4ca5-a1a9-19915f6d2f7c)\r\nnieboté›†æˆçš„æ—¶å€™ï¼Œå‡ºç°äº†å¦‚ä¸‹é”™è¯¯ï¼Œè¯·é—®ï¼Œè¿™è¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ",
        "state": "open",
        "user": "111wukong",
        "closed_by": null,
        "created_at": "2024-04-09T14:21:44+00:00",
        "updated_at": "2024-04-12T08:48:21+00:00",
        "closed_at": null,
        "comments_count": [
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 347,
        "title": "æ‰‹åŠ¨ç¼–æ’å’ŒåŠè‡ªåŠ¨ç¼–æ’å•¥æ—¶å€™ä¸Šå‘€ï¼Œå¾ˆæœŸå¾…",
        "body": null,
        "state": "open",
        "user": "zongking123",
        "closed_by": null,
        "created_at": "2024-05-07T10:01:34+00:00",
        "updated_at": "2024-05-07T10:01:39+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 351,
        "title": "æµå¼è¿”å›æ—¶æ— æ³•åˆ¤å®šæ˜¯å¦è§¦å‘å‡½æ•°è°ƒç”¨",
        "body": "æˆ‘åœ¨ä½¿ç”¨è¿›è¡Œæµå¼è¿”å›çš„æ—¶å€™ï¼Œè®¾ç½®stream=Trueï¼Œä½†æ˜¯ä¹‹åè°ƒç”¨is_function_responseä¼šæŠ¥é”™ï¼šAttributeError: 'generator' object has no attribute 'is_function_response'ï¼Œè€Œåœ¨åœ¨è®¾ç½®stream=Falseçš„æ—¶å€™æ˜¯å¯ä»¥çš„ï¼Œä¹Ÿæ˜¯å®˜æ–¹åœ¨æ–‡å¿ƒä¸€è¨€ç¤¾åŒºæä¾›çš„ä½¿ç”¨æ–¹å¼ã€‚è¯·é—®æµå¼è¿”å›çš„æ—¶å€™å¦‚ä½•è°ƒç”¨å‘¢ï¼Ÿ\r\n\r\n```python\r\n        response_stream = erniebot.ChatCompletion.create(\r\n            model='ernie-3.5',\r\n            messages=messages,\r\n            stream=True,\r\n            functions=functions\r\n        )\r\n        if response_stream.is_function_response:\r\n```",
        "state": "open",
        "user": "AFAN-LIFE",
        "closed_by": null,
        "created_at": "2024-06-21T03:28:16+00:00",
        "updated_at": "2024-06-21T03:30:00+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 344,
        "title": "æœ‰äº†erniebot,åˆæœ‰äº†ä¸€ä¸ªerniebot_agentï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½å¾ˆé‡å¤ã€‚ç›®æ ‡æ˜¯ä»€ä¹ˆå•Šï¼Ÿ",
        "body": "å¦‚é¢˜",
        "state": "open",
        "user": "pzchu",
        "closed_by": null,
        "created_at": "2024-04-26T06:48:54+00:00",
        "updated_at": "2024-04-26T07:41:30+00:00",
        "closed_at": null,
        "comments_count": [
            "itagan",
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 346,
        "title": "æ˜¯å¦æ”¯æŒå¤šæ¨¡æ€è¾“å…¥ï¼Ÿä¾‹å¦‚å›¾æ–‡æ··åˆè¾“å…¥",
        "body": null,
        "state": "open",
        "user": "Dimweaker",
        "closed_by": null,
        "created_at": "2024-05-01T15:07:48+00:00",
        "updated_at": "2024-05-07T03:09:28+00:00",
        "closed_at": null,
        "comments_count": [
            "w5688414",
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 359,
        "title": "æ–‡æ¡£markdownè¡¨æ ¼é”™è¯¯",
        "body": "![image](https://github.com/user-attachments/assets/8d67d7a1-cd98-4bef-81c8-5f35288f961a)\r\nè¡¨æ ¼å±•ç¤ºé”™è¯¯",
        "state": "open",
        "user": "Minghao2812",
        "closed_by": null,
        "created_at": "2024-11-25T02:53:15+00:00",
        "updated_at": "2024-11-25T02:53:19+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 355,
        "title": "æ–‡ç”Ÿå›¾çš„é‰´æƒé—®é¢˜",
        "body": "æ–‡ç”Ÿå›¾çš„apié‰´æƒä»å“ªé‡Œè·å¾—ï¼Ÿ\r\næˆ‘çœ‹[ernie-vilg](https://wenxin.baidu.com/ernie-vilg)æ—©å·²å…³é—­è´­ä¹°ï¼Œ\r\nè¿™ä¸ªåŠŸèƒ½æ— æ³•ä½¿ç”¨äº†ï¼Ÿ",
        "state": "open",
        "user": "Dimweaker",
        "closed_by": null,
        "created_at": "2024-07-04T12:55:01+00:00",
        "updated_at": "2024-07-04T12:55:06+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 348,
        "title": "erniebot.errors.InvalidTokenError: æš‚æ— æƒé™ä½¿ç”¨ï¼Œè¯·åœ¨ AI Studio æ­£ç¡®è·å–è®¿é—®ä»¤ç‰Œ(access token)ä½¿ç”¨",
        "body": "erniebot.errors.InvalidTokenError: æš‚æ— æƒé™ä½¿ç”¨ï¼Œè¯·åœ¨ AI Studio æ­£ç¡®è·å–è®¿é—®ä»¤ç‰Œ(access token)ä½¿ç”¨",
        "state": "open",
        "user": "lucasjinreal",
        "closed_by": null,
        "created_at": "2024-05-26T10:42:15+00:00",
        "updated_at": "2024-05-27T00:37:34+00:00",
        "closed_at": null,
        "comments_count": [
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/ERNIE-SDK",
        "number": 356,
        "title": "æ¥å…¥è‡ªåˆ¶OCRæ–°å·¥å…·æ—¶å‡ºç°çš„é—®é¢˜",
        "body": "æˆ‘åœ¨ä½¿ç”¨è´µå¹³å°æ—¶å‡ºç°äº†pydanticçš„é—®é¢˜\r\n\r\nå…·ä½“æŠ¥é”™å¦‚ä¸‹ï¼š\r\n`Traceback (most recent call last):\r\n  File \"/home/aistudio/deploy/llm_agent/api/common_tools/ocr_tools.py\", line 26, in <module>\r\n    class CustomOCRInput(ToolParameterView):\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_model_construction.py\", line 200, in __new__\r\n    set_model_fields(cls, bases, config_wrapper, types_namespace)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_model_construction.py\", line 469, in set_model_fields\r\n    fields, class_vars = collect_model_fields(cls, bases, config_wrapper, types_namespace, typevars_map=typevars_map)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_fields.py\", line 132, in collect_model_fields\r\n    type_hints = get_cls_type_hints_lenient(cls, types_namespace)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_typing_extra.py\", line 228, in get_cls_type_hints_lenient\r\n    hints[name] = eval_type_lenient(value, globalns, localns)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_typing_extra.py\", line 240, in eval_type_lenient\r\n    return eval_type_backport(value, globalns, localns)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_typing_extra.py\", line 264, in eval_type_backport\r\n    return typing._eval_type(  # type: ignore\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/typing.py\", line 327, in _eval_type\r\n    return t._evaluate(globalns, localns, recursive_guard)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/typing.py\", line 693, in _evaluate\r\n    type_ = _type_check(\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/typing.py\", line 176, in _type_check\r\n    raise TypeError(f\"{msg} Got {arg!r:.100}.\")\r\nTypeError: Forward references must evaluate to types. Got <module 'PIL.Image' from '/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/PIL/I.\r\n(/home/aistudio/external-libraries/agent) aistudio@jupyter-2163331-8134354:~/deploy/llm_agent/api/common_tools$ python ocr_tools.py \r\nTraceback (most recent call last):\r\n  File \"/home/aistudio/deploy/llm_agent/api/common_tools/ocr_tools.py\", line 7, in <module>\r\n    from erniebot_agent.file import LocalFile\r\nImportError: cannot import name 'LocalFile' from 'erniebot_agent.file' (/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/file/__init__.py)\r\n(/home/aistudio/external-libraries/agent) aistudio@jupyter-2163331-8134354:~/deploy/llm_agent/api/common_tools$ python ocr_tools.py \r\nTraceback (most recent call last):\r\n  File \"/home/aistudio/deploy/llm_agent/api/common_tools/ocr_tools.py\", line 26, in <module>\r\n    class CustomOCRInput(ToolParameterView):\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_model_construction.py\", line 205, in __new__\r\n    complete_model_class(\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_model_construction.py\", line 534, in complete_model_class\r\n    schema = cls.__get_pydantic_core_schema__(cls, handler)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/main.py\", line 642, in __get_pydantic_core_schema__\r\n    return handler(source)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_schema_generation_shared.py\", line 83, in __call__\r\n    schema = self._handler(source_type)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 512, in generate_schema\r\n    schema = self._generate_schema_inner(obj)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 784, in _generate_schema_inner\r\n    return self._model_schema(obj)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 591, in _model_schema\r\n    {k: self._generate_md_field_schema(k, v, decorators) for k, v in fields.items()},\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 591, in <dictcomp>\r\n    {k: self._generate_md_field_schema(k, v, decorators) for k, v in fields.items()},\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 947, in _generate_md_field_schema\r\n    common_field = self._common_field_schema(name, field_info, decorators)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 1134, in _common_field_schema\r\n    schema = self._apply_annotations(\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 1890, in _apply_annotations\r\n    schema = get_inner_schema(source_type)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_schema_generation_shared.py\", line 83, in __call__\r\n    schema = self._handler(source_type)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 1871, in inner_handler\r\n    schema = self._generate_schema_inner(obj)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 789, in _generate_schema_inner\r\n    return self.match_type(obj)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 875, in match_type\r\n    return self._unknown_type_schema(obj)\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/pydantic/_internal/_generate_schema.py\", line 415, in _unknown_type_schema\r\n    raise PydanticSchemaGenerationError(\r\n**pydantic.errors.PydanticSchemaGenerationError: Unable to generate pydantic-core schema for <class 'erniebot_agent.file.local_file.LocalFile'>. Set `arbitrary_types_allowed=True` in the model_config to ignore this error or implement `__get_pydantic_core_schema__` on your type to fully support it.\r\n\r\nIf you got this error by calling handler(<some type>) within `__get_pydantic_core_schema__` then you likely need to call `handler.generate_schema(<some type>)` since we do not call `__get_pydantic_core_schema__` on `<some type>` otherwise to avoid infinite recursion.\r\n\r\nFor further information visit https://errors.pydantic.dev/2.8/u/schema-for-unknown-type**\r\n\r\n`\r\n\r\nç›¸å…³ä»£ç å¦‚ä¸‹ï¼ˆå…·ä½“çš„tokenä¸éƒ¨åˆ†requesté€»è¾‘æˆ‘å·²ç»éšè—ï¼Œåº”è¯¥ä¸ä¼šå½±å“åˆ°é—®é¢˜çš„åˆ¤æ–­ï¼‰\r\n`from __future__ import annotations\r\n\r\nimport requests\r\nfrom typing import Any, Dict, Type, List\r\nfrom pydantic import Field\r\nfrom erniebot_agent.tools.base import Tool\r\nfrom erniebot_agent.file.local_file import LocalFile\r\nfrom erniebot_agent.tools.schema import ToolParameterView\r\nfrom erniebot_agent.agents.function_agent import FunctionAgent\r\nfrom erniebot_agent.chat_models import ERNIEBot\r\nfrom erniebot_agent.memory import WholeMemory\r\nfrom erniebot_agent.file import GlobalFileManagerHandler\r\n\r\ndef image_path_to_base64(img):\r\n    #è½¬æ¢å›¾åƒä¸ºbase64\r\n    ...\r\n\r\n\r\nclass CustomOCRInput(ToolParameterView):\r\n    img: LocalFile = Field(description=\"å¾…è¯†åˆ«çš„å›¾åƒ\")\r\n\r\n\r\nclass CustomOCROutput(ToolParameterView):\r\n    result: str = Field(description=\"è¯†åˆ«çš„æ–‡å­—ç»“æœ\")\r\n\r\n\r\nclass CustomOCRTool(Tool):\r\n\r\n    description: str = \"è¯†åˆ«è¾“å…¥å›¾åƒä¸­çš„æ–‡å­—\"\r\n    input_type: Type[ToolParameterView] = CustomOCRInput\r\n    output_type: Type[ToolParameterView] = CustomOCROutput\r\n\r\n    def __init__(self) -> None:\r\n        super().__init__()\r\n    \r\n    async def __call__(self, img: File) -> Dict[str, Any]:\r\n        url = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\r\n        data = image_path_to_base64(img)\r\n\r\n        # å‘é€ POST è¯·æ±‚\r\n        data = {\r\n            'img': data,\r\n        }\r\n        response = requests.post(url, data=data)\r\n\r\n        # å¤„ç†è¿”å›çš„å›¾åƒæ•°æ®\r\n        result = \"\"\r\n        if response.status_code == 200:\r\n            reply = response.json()\r\n            for block in reply:\r\n                result += block[\"transcription\"]\r\n                result += \"\\n\"\r\n\r\n        return {\"result\": result}\r\n\r\n\r\nimport asyncio\r\nimport os\r\n\r\nasync def a():\r\n    os.environ[\"EB_AGENT_ACCESS_TOKEN\"] = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\r\n    file_manager = GlobalFileManagerHandler().get()\r\n    agent = FunctionAgent(ERNIEBot(\"ernie-3.5\"), tools=[CustomOCRTool()], memory=WholeMemory())\r\n    data = await file_manager.create_file_from_path(file_path=\"/home/aistudio/deploy/llm_agent/api/img_12.jpg\", file_type=\"local\")\r\n    result = await agent.run(\"å‘Šè¯‰æˆ‘å›¾ç‰‡ä¸Šè®²äº†ä»€ä¹ˆï¼Ÿ\",  files=[data])\r\n    print(result)\r\n\r\nasyncio.run(a())\r\n\r\n`\r\n\r\n\r\nç›¸å…³ç¯å¢ƒå¦‚ä¸‹ï¼š\r\nå¹³å°ä¸ºç™¾åº¦é£æµ†AI Studioæä¾›çš„BML CodeLabé…ç½®ï¼ˆCPUï¼‰ã€‚\r\n\r\nä¸‹é¢æ˜¯æˆ‘ä¸ªäººçš„ä¸€ç‚¹çœ‹æ³•ï¼š\r\nä»æŠ¥é”™ä¸Šæ¥è¯´ï¼Œä¼¼ä¹æ˜¯pydanticè¯•å›¾å¯¹LocalFileç±»åšä¸€ç‚¹å¤„ç†ï¼ˆæˆ‘ä¸æ˜¯å¾ˆäº†è§£è¿™ä¸ªï¼‰ï¼Œç„¶åè¯¥ç±»æœ‰ä¸€äº›æ–¹æ³•æ²¡å®ç°å¯¼è‡´å‡ºç°äº†é—®é¢˜ï¼Ÿ\r\nåŒæ—¶ GlobalFileManagerHandler().get()ä¸FunctionAgent(ERNIEBot(\"ernie-3.5\"), tools=[CustomOCRTool()], memory=WholeMemory())\r\nå»æ‰äº†åŸæ•™ç¨‹ä¸­çš„awaitå‚æ•°ï¼Œå› ä¸ºä¹Ÿä¼šæŠ¥é”™ï¼ˆåˆ¤æ–­ä¸ºGlobalFileManagerHandler().get()ç”¨ä¸åˆ°å¼‚æ­¥ï¼Œå»æ‰åæ²¡æœ‰æŠ¥é”™ï¼‰\r\n\r\næˆ‘å°è¯•è¿‡å£°æ˜arbitrary_types_allowed=Trueåœ¨ç›¸å…³çš„å·¥å…·Inputå­ç±»ä¸­\r\nä½†æ˜¯æ²¡æœ‰æ•ˆæœï¼Œä¼šå‡ºç°æ–°çš„é”™è¯¯ï¼š\r\n`\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/agents/agent.py\", line 195, in run_llm\r\n    raise e\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/agents/agent.py\", line 192, in run_llm\r\n    llm_resp = await self._run_llm(messages, **(llm_opts or {}))\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/agents/agent.py\", line 324, in _run_llm\r\n    functions = self._tool_manager.get_tool_schemas()\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/tools/tool_manager.py\", line 73, in get_tool_schemas\r\n    return [tool.function_call_schema() for tool in self._tools.values()]\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/tools/tool_manager.py\", line 73, in <listcomp>\r\n    return [tool.function_call_schema() for tool in self._tools.values()]\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/tools/base.py\", line 80, in function_call_schema\r\n    inputs[\"parameters\"] = self.input_type.function_call_schema()\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/tools/schema.py\", line 339, in function_call_schema\r\n    return cls.to_openapi_dict()\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/tools/schema.py\", line 321, in to_openapi_dict\r\n    properties[field_name] = dict(get_field_openapi_property(field_info))\r\n  File \"/home/aistudio/external-libraries/agent/lib/python3.10/site-packages/erniebot_agent/tools/schema.py\", line 181, in get_field_openapi_property\r\n    elif field_info.annotation is not None and issubclass(field_info.annotation, Enum):\r\nTypeError: issubclass() arg 1 must be a class\r\n`\r\nä¸Šé¢çš„å †æ ˆæŠ¥é”™ä¸­ä¸ªäººè®¤ä¸ºæ¯”è¾ƒé‡è¦çš„éƒ¨åˆ†\r\n\r\nä»£ç å¦‚ä¸‹ï¼š\r\n`\r\nclass CustomOCRInput(ToolParameterView):\r\n    class Config:\r\n        arbitrary_types_allowed = True\r\n    local_file: 'erniebot_agent.file.local_file.LocalFile'\r\n    img: LocalFile = Field(description=\"å¾…è¯†åˆ«çš„å›¾åƒ\")\r\n`\r\n\r\næˆ‘å·²ç»é»”é©´æŠ€ç©·äº†ï¼Œå¸Œæœ›èƒ½å¤Ÿæœ‰å¤§ä½¬èƒ½å¤Ÿé«˜æŠ¬è´µæ‰‹å¸®ä¸ªå¿™ï¼Œæ„Ÿè°¢æ„Ÿè°¢ï¼ï¼ï¼\r\n\r\n\r\n",
        "state": "open",
        "user": "SatoriEye",
        "closed_by": null,
        "created_at": "2024-07-09T06:16:26+00:00",
        "updated_at": "2024-08-31T13:43:38+00:00",
        "closed_at": null,
        "comments_count": [
            "SatoriEye",
            "SatoriEye",
            "SatoriEye",
            "SatoriEye",
            "sijunhe",
            "SatoriEye",
            "lyyilin",
            "lyyilin",
            "SatoriEye",
            "lyyilin",
            "lyyilin",
            "SatoriEye"
        ],
        "labels": []
    }
]